<form
  id="${form.name}"
  action="${form.action_url or ''}"
  class="formish-form"
  method="${form.method.lower()}"
  enctype="multipart/form-data"
  accept-charset="utf-8">
  <div tal:condition="form.include_charset">
    <input type="hidden" name="_charset_" /></div>
  <div tal:condition="form.name">
    <input type="hidden" name="__formish_form__" value="${form.name}" />
  </div>
  <p tal:condition="form.error" class="error">${unicode(form.error)}</p>
  <span tal:replace="structure form.fields()"/>
  <div class="actions">
    <tal:block repeat="action form._actions">
      <input type="submit"
             id="${'-'.join(filter(None, [form.name, 'action', action.name]))}"
             value="${action.value or ''}"
             name="${action.name or ''}"
             />
    </tal:block>
  </div>
</form>
